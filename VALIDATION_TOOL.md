# 🔍 회로 검증 및 디버깅 도구

## 개요
LoCAD 시뮬레이터에 통합된 회로 검증 도구입니다. 논리 오류 감지, 타이밍 분석, 전력 소비 계산, 최적화 제안 기능을 제공합니다.

## 주요 기능

### 1. 논리 오류 감지 ❌
- **미연결 핀 감지**: 연결되지 않은 입출력 핀 자동 탐지
- **순환 참조 감지**: 무한 루프를 일으킬 수 있는 회로 구조 탐지
- **다중 드라이버 감지**: 여러 출력이 하나의 입력에 연결된 오류 탐지
- **플로팅 신호 감지**: 신호 소스가 없는 회로 탐지

### 2. 타이밍 분석 ⏱️
- **크리티컬 패스 계산**: 가장 긴 신호 전파 경로 자동 탐지
- **최대 지연 시간**: 회로의 총 지연 시간 계산 (나노초 단위)
- **최대 동작 주파수**: 회로가 안정적으로 동작할 수 있는 최대 클럭 주파수 예측
- **경로 수 표시**: 스위치/클럭에서 LED까지의 모든 신호 경로 개수

### 3. 전력 소비 계산 ⚡
- **정적 전력**: 누설 전류로 인한 전력 소비 (모든 게이트)
- **동적 전력**: 활성 상태 게이트의 전력 소비
- **총 전력**: 전체 회로의 전력 소비 (마이크로와트 단위)
- **고전력 경고**: 전력 소비가 임계값을 초과할 때 자동 알림

### 4. 최적화 제안 💡
- **이중 NOT 게이트 감지**: 불필요한 인버터 쌍 탐지 및 제거 제안
- **사용되지 않는 컴포넌트**: 연결되지 않은 부품 자동 탐지
- **간소화 가능한 조합**: NAND/NOR 등을 기본 게이트로 변환 가능한 패턴 탐지

## 사용 방법

### 기본 사용
1. 시뮬레이터에서 회로 설계
2. 상단 툴바의 **"검증"** 버튼 클릭
3. 오른쪽 패널에서 검증 결과 확인

### 자동 검증 모드
1. 검증 패널의 **"자동"** 버튼 클릭하여 활성화
2. 회로 변경 시 자동으로 2초 후 검증 실행
3. 실시간으로 오류/경고/제안 확인 가능

### 문제 위치 확인
- 검증 결과 항목을 클릭하면 해당 컴포넌트로 화면 이동
- 문제 컴포넌트가 3초간 빨간색으로 하이라이트됨

## 검증 결과 해석

### 오류 (Errors) ❌
- **우선순위**: 높음
- **의미**: 회로가 정상적으로 동작하지 않을 수 있음
- **조치**: 즉시 수정 필요

**예시**:
- "순환 참조가 감지되었습니다: AND_1 → OR_2"
- "LED_1의 입력 핀에 여러 출력이 연결되어 있습니다"

### 경고 (Warnings) ⚠️
- **우선순위**: 중간
- **의미**: 회로가 동작은 하지만 문제가 있을 수 있음
- **조치**: 검토 후 필요 시 수정

**예시**:
- "AND (AND_3)의 핀이 연결되지 않았습니다"
- "크리티컬 패스의 지연이 매우 큽니다 (150.00 ns)"
- "전력 소비가 높습니다 (1245.50 μW)"

### 제안 (Suggestions) 💡
- **우선순위**: 낮음
- **의미**: 회로를 최적화할 수 있는 방법
- **조치**: 선택적 적용

**예시**:
- "이중 NOT 게이트가 감지되었습니다. 제거하여 간소화할 수 있습니다"
- "NOT (NOT_5)는 연결되지 않았습니다. 제거를 고려하세요"
- "NAND 게이트 조합을 OR 게이트로 간소화할 수 있습니다"

## 게이트별 사양

### 지연 시간 (Delay)
| 게이트 타입 | 지연 시간 (ns) |
|-------------|----------------|
| NOT         | 1.0            |
| NAND        | 1.5            |
| NOR         | 1.5            |
| AND         | 2.0            |
| OR          | 2.0            |
| XOR         | 3.0            |
| XNOR        | 3.0            |
| SR Latch    | 4.0            |
| Half Adder  | 5.0            |
| D Flip-Flop | 5.0            |
| Full Adder  | 7.0            |
| Package     | 10.0 (기본값)  |

### 전력 소비 (Power)
| 게이트 타입 | 전력 소비 (μW) |
|-------------|----------------|
| NOT         | 0.3            |
| NAND        | 0.4            |
| NOR         | 0.4            |
| AND         | 0.5            |
| OR          | 0.5            |
| XOR         | 0.8            |
| XNOR        | 0.8            |
| SWITCH      | 0.1            |
| CLOCK       | 1.0            |
| SR Latch    | 1.5            |
| Half Adder  | 2.0            |
| D Flip-Flop | 2.0            |
| Full Adder  | 3.0            |
| LED         | 5.0            |
| Package     | 5.0 (기본값)   |

## 파일 구조
```
LogicProject2/
├── js/modules/
│   └── CircuitValidator.js    // 핵심 검증 엔진
├── css/
│   └── validation.css         // 검증 패널 스타일
└── simulator.html             // 검증 패널 UI 통합
```

## 기술 스택
- **순환 참조 감지**: DFS (Depth-First Search) 알고리즘
- **경로 탐색**: 그래프 기반 경로 탐색
- **타이밍 분석**: 크리티컬 패스 계산 알고리즘
- **전력 계산**: 정적/동적 전력 모델

## 향후 개선 계획
- [ ] VHDL/Verilog 코드 변환
- [ ] 더 정교한 타이밍 분석 (클럭 스큐, 홀드/셋업 타임)
- [ ] 전력 소비 그래프 시각화
- [ ] AI 기반 최적화 제안
- [ ] 회로 커버리지 분석

## 라이선스
MIT License

## 기여
버그 리포트 및 기능 제안은 GitHub Issues에 등록해주세요.

---

**제작**: LoCAD Team  
**버전**: 1.0.0  
**최종 업데이트**: 2025-12-28
